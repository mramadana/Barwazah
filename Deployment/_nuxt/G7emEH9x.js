const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D0Uutl0B.js","./qYMLPQxU.js","./CDjVABWN.js"])))=>i.map(i=>d[i]);
import{_ as K}from"./BP76DtL4.js";import Q from"./CQbogLMU.js";import{j as O,A as X,B as t2,r as n,s as D,m as A,e as F,o as h,c as g,a as t,b as y,f as v,u as o,E as e2,t as _,y as M}from"./CDjVABWN.js";import{s as o2}from"./D8qqV3WI.js";import{i as T,a as U,b as q,c as s2,d as W,_ as J,u as a2,e as n2}from"./qYMLPQxU.js";import{u as B,r as G}from"./Bwfks3Mu.js";import{u as H}from"./CVjljgFj.js";import{i as l2}from"./BOjzTTy3.js";import{_ as i2}from"./D4mcGiyH.js";import{t as r2}from"./CsKsy3XR.js";import"./vdJJGTyi.js";import"./GeIhuEdx.js";import"./BXjy7pqY.js";import"./BbxwispC.js";const c2=W(J),d2={key:0,class:"w-100"},m2={class:"d-flex align-items-center justify-content-center gap-4"},u2={class:"with_cun_select custom-select"},_2={class:"flex justify-content-center dropdown_card"},h2={__name:"yearLimit",async setup(j){let a,f;const b=B(),{response:x}=G(),{t:C}=O(),u=([a,f]=X(()=>t2(()=>import("./D0Uutl0B.js"),__vite__mapDeps([0,1,2]),import.meta.url)),a=await a,f(),a);u.use([l2,T,U,q,s2]);const l=n(!1),r=n(null),w=n([{name:"2020",id:2020},{name:"2021",id:2021},{name:"2022",id:2022},{name:"2023",id:2023},{name:"2024",id:2024},{name:"2025",id:2025}]),d=n(["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]),i=n(null),{token:m}=D(H()),V=A(()=>({headers:{Authorization:`Bearer ${m.value}`}})),e=n({legend:{top:"5%",show:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLabel:{interval:0,rotate:45}},yAxis:{type:"value",show:!1},series:[{name:C("Global.females"),type:"line",smooth:!0,symbol:"square",symbolSize:7,showSymbol:!0,lineStyle:{width:2,color:"#4681f4"},itemStyle:{color:"#013660"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(70, 129, 244, 0.6)"},{offset:1,color:"rgba(70, 129, 244, 0.2)"}])},data:[]}]}),s=async()=>{r.value&&await $(r.value.id)},$=async p=>{console.log(V.value,"res");try{const c=await b.get(`AverageMarketVisits?year=${p}`,V.value);if(x(c)=="success"){const k=c.data.data;e.value.xAxis.data=d.value,e.value.series[0].data=k.map(L=>Number(L.value)),console.log(k,"monthlyData"),i.value&&i.value.chart?i.value.chart.setOption(e.value,!0):console.error("Chart instance is not ready.")}}catch(c){console.error(c)}};return F(()=>{l.value=!0;const p=new Date().getFullYear();r.value=w.value.find(c=>c.id===p),$(p)}),(p,c)=>{const k=o2,L=c2;return l.value?(h(),g("div",d2,[t("div",m2,[c[1]||(c[1]=t("label",{class:"label mb-0"},"اختر السنة",-1)),t("div",u2,[t("div",_2,[y(k,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=S=>r.value=S),onChange:s,options:w.value,optionLabel:"name",placeholder:"اختر السنة",class:"w-full md:w-14rem custum-dropdown"},null,8,["modelValue","options"])])])]),y(L,{ref_key:"chart",ref:i,class:"custom-chart",option:e.value,style:{height:"300px",width:"100%",display:"block"}},null,8,["option"])])):v("",!0)}}},p2=W(J),v2={key:0,class:"w-100"},f2={__name:"Visitors",setup(j){a2([U,T,n2,q]);const a=n(!1),f=n(null),{token:b}=D(H()),x=B(),{response:C}=G(),u=n({data:[]}),l=A(()=>({headers:{Authorization:`Bearer ${b.value}`}})),r=A(()=>{var d,i;return{grid:{left:"5%",right:"5%",top:"10%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:((d=u.value.data)==null?void 0:d.map(m=>m.name))||[],axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisLabel:{formatter:"{value} %"}},tooltip:{trigger:"item",formatter:"{b}: {c}%"},series:[{data:((i=u.value.data)==null?void 0:i.map(m=>m.value))||[],type:"bar",barWidth:"50%",itemStyle:{color:m=>["#c1c1c1","#c1c1c1","#c1c1c1","#d9534f","#c1c1c1","#d9534f"][m.dataIndex],borderRadius:[5,5,0,0]},label:{show:!0,position:"top",formatter:"{c}%",fontSize:12,color:"#000"}}]}});return F(async()=>{var d;try{const i=await x.get("VisitorMovement",l.value);C(i)==="success"&&(u.value=i.data,console.log(u.value,"visitorsData"),(d=f.value)!=null&&d.chart&&f.value.chart.setOption(r.value))}catch(i){console.error(i)}finally{a.value=!0}}),(d,i)=>{const m=p2;return o(a)?(h(),g("div",v2,[y(m,{ref_key:"chart",ref:f,option:o(r),style:{height:"300px",width:"100%",display:"block"}},null,8,["option"])])):v("",!0)}}},g2="data:image/svg+xml,%3csvg%20width='39'%20height='75'%20viewBox='0%200%2039%2075'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.2754%2074.5V66.25V65.8173L23.7036%2065.7552C27.9297%2065.1424%2031.4515%2063.5809%2034.29%2061.083C37.0744%2058.6327%2038.5%2055.0365%2038.5%2050.2083C38.5%2046.3634%2037.3047%2042.986%2034.9109%2040.0559C32.5232%2037.1333%2028.9892%2034.9742%2024.2631%2033.6056C24.2628%2033.6055%2024.2624%2033.6054%2024.262%2033.6053L24.4011%2033.125C19.2567%2031.6667%2015.6417%2030.2778%2013.5561%2028.9583C11.4706%2027.6389%2010.4278%2025.8333%2010.4278%2023.5417C10.4278%2021.5278%2011.2273%2019.8438%2012.8262%2018.4896C14.4251%2017.1354%2016.754%2016.4583%2019.8128%2016.4583C22.4545%2016.4583%2024.5401%2017.0139%2026.0695%2018.125C27.4902%2019.1571%2028.611%2020.6686%2029.4318%2022.6595L23.2754%2074.5ZM23.2754%2074.5H15.9332V66.0417V65.6421L15.5435%2065.554C11.9358%2064.738%208.83239%2063.1774%206.22248%2060.875C3.72205%2058.6692%201.84427%2055.5694%200.609215%2051.5427L7.40674%2048.7899C8.46634%2051.9382%2010.0016%2054.3904%2012.0339%2056.1108C14.1952%2057.9405%2017.0129%2058.8333%2020.4385%2058.8333C23.3651%2058.8333%2025.8801%2058.173%2027.9579%2056.8258C30.1042%2055.4341%2031.1578%2053.2653%2031.1578%2050.4167C31.1578%2047.8721%2030.3521%2045.8033%2028.7043%2044.2694C27.8796%2043.5018%2026.5518%2042.7155%2024.7647%2041.9017C22.9686%2041.0838%2020.6725%2040.2221%2017.8817%2039.3161L17.8769%2039.3146C11.9242%2037.4477%207.93391%2035.2431%205.80263%2032.7482C3.66291%2030.2433%202.58556%2027.1847%202.58556%2023.5417C2.58556%2019.1457%204.00133%2015.7887%206.79044%2013.4006C9.65326%2010.9494%2012.5522%209.58024%2015.4896%209.24681L15.9332%209.19645V8.75V0.5H23.2754V8.75V9.17643L23.6965%209.24373C27.0957%209.78703%2029.8717%2011.021%2032.0489%2012.9282C34.127%2014.7486%2035.6744%2016.9446%2036.694%2019.5224L29.8908%2022.4612L23.2754%2074.5Z'%20stroke='%23ECF5FC'/%3e%3c/svg%3e",y2="data:image/svg+xml,%3csvg%20width='57'%20height='54'%20viewBox='0%200%2057%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M49.9844%2023.875V44.4367C49.9844%2048.6267%2046.5398%2052%2042.2612%2052H14.7388C10.4601%2052%207.01562%2048.6267%207.01562%2044.4367V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M53.6715%2015.6057L48.9625%202H8.03749L3.32855%2015.6057C2.66647%2017.5186%202.32812%2019.5336%202.32813%2021.5635C2.42494%2022.2688%202.7911%2022.9059%203.34598%2023.3345C3.90086%2023.7631%204.59901%2023.948%205.28692%2023.8488H51.7131C52.1016%2023.8488%2052.4864%2023.7703%2052.8454%2023.6178C53.2043%2023.4654%2053.5306%2023.2419%2053.8053%2022.9602C54.0801%2022.6785%2054.298%2022.344%2054.4467%2021.9759C54.5954%2021.6078%2054.6719%2021.2133%2054.6719%2020.8148C54.6303%2019.0327%2054.2919%2017.2709%2053.6715%2015.6057Z'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M37.4844%202L42.2287%2016.3283C42.7081%2017.7762%2042.9531%2019.3011%2042.9531%2020.8374V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M19.5156%202L14.7713%2016.3283C14.2919%2017.7762%2014.0469%2019.3011%2014.0469%2020.8374V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28.1094%202V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",b2="data:image/svg+xml,%3csvg%20width='51'%20height='48'%20viewBox='0%200%2051%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42.3808%2030.4706H8.61922C4.83899%2030.4706%201.77451%2033.6054%201.77451%2037.4724V38.9982C1.77451%2042.8652%204.83899%2046%208.61922%2046H42.3808C46.161%2046%2049.2255%2042.8652%2049.2255%2038.9982V37.4724C49.2255%2033.6054%2046.161%2030.4706%2042.3808%2030.4706Z'%20stroke='%23013660'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.5%2023.5686C31.456%2023.5686%2036.2843%2018.7403%2036.2843%2012.7843C36.2843%206.8283%2031.456%202%2025.5%202C19.544%202%2014.7157%206.8283%2014.7157%2012.7843C14.7157%2018.7403%2019.544%2023.5686%2025.5%2023.5686Z'%20stroke='%23013660'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",C2={class:"container"},w2={key:0,class:"mb-4"},k2={class:"main-title bold cl-red"},x2={class:"main-title normal main-cl"},V2={class:"row"},L2={class:"col-12 col-md-3 mb-4"},A2={class:"info-box"},$2={class:"info-box-item market-size"},S2={class:"info-content"},M2={class:"d-flex align-items-baseline gap-2"},D2={key:0},B2={class:"info-box-item store-clients"},G2={class:"info-content"},H2={class:"d-flex align-items-baseline gap-2"},j2={key:0},E2={class:"info-box-item market-clients"},z2={class:"info-content"},I2={class:"d-flex align-items-baseline gap-2"},R2={key:0},N2={class:"col-12 col-md-9 mb-4"},P2={class:"layout-form chart_layout"},Y2={class:"col-12 col-md-6 mb-4"},Z2={class:"layout-form chart_layout"},O2={class:"main-title bold text-center mb-3"},F2={class:"main-title sm text-center mb-0"},T2={class:"col-12 col-md-6 mb-4"},U2={class:"layout-form chart_layout"},q2={class:"main-title bold text-center mb-3"},W2={class:"main-title sm text-center mb-0"},dt={__name:"index",setup(j){O();const a=n(!0),{token:f,user:b,isLoggedIn:x}=D(H()),{response:C}=G();r2();const u=B(),l=n(null),r=n(null),w=A(()=>({headers:{Authorization:`Bearer ${f.value}`}})),d=n(!1),i=A(()=>{var e;return(e=l.value)!=null&&e.competitors?{labels:l.value.competitors.map(s=>({id:s.id,text:s.competitorName,image:s.logo})),series:l.value.competitors.map(s=>s.totalMarketVisitors),colors:{bar:"#f75c5c",text:"#ffffff"}}:{labels:[],series:[],colors:{bar:"#f75c5c",text:"#ffffff"}}});n([[40,50,60,70,65,75,85,80,90,95,110,115],[30,40,55,50,55,60,75,72,78,82,90,95]]),n([{name:"عرض الكل",id:0},{name:"يناير",id:1,days:31},{name:"فبراير",id:2,days:28},{name:"مارس",id:3,days:31},{name:"أبريل",id:4,days:30},{name:"مايو",id:5,days:31},{name:"يونيو",id:6,days:30},{name:"يوليو",id:7,days:31},{name:"أغسطس",id:8,days:31},{name:"سبتمبر",id:9,days:30},{name:"أكتوبر",id:10,days:31},{name:"نوفمبر",id:11,days:30},{name:"ديسمبر",id:12,days:31}]),n(["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]),n([["label 1",43.3,85.8],["label 2",83.1,73.4],["label 3",86.4,65.2],["label 4",72.4,53.9],["label 5",43.3,85.8],["Ramadan",83.1,73.4]]);const m=async()=>{a.value=!0,await u.get("GetHomeStaticData",w.value).then(e=>{C(e)=="success"&&(l.value=e.data.data,console.log(l.value,"HomeData")),a.value=!1}).catch(e=>{console.error(e)})},V=async()=>{a.value=!0,await u.get("GetStoreCustomers",w.value).then(e=>{C(e)=="success"&&(r.value=e.data.data),a.value=!1}).catch(e=>{console.error(e)})};return e2(async()=>{await m(),await V(),d.value=!0}),(e,s)=>{var S,E,z,I,R,N,P,Y,Z;const $=K,p=Q,c=h2,k=f2,L=i2;return h(),g("div",null,[t("main",null,[y($,{to:"/about"}),t("div",C2,[o(x)?(h(),g("div",w2,[t("h1",k2,_(e.$t("Global.welcome"))+"   "+_(o(b).name),1),t("h3",x2,_((S=o(b))==null?void 0:S.fullName),1)])):v("",!0),t("div",V2,[t("div",L2,[t("div",A2,[t("div",$2,[t("div",S2,[s[0]||(s[0]=t("span",null,"حجم السوق",-1)),t("div",M2,[!((E=o(l))!=null&&E.length)&&!o(a)?(h(),g("h2",D2,_((z=o(l))==null?void 0:z.marketSize),1)):v("",!0),(I=o(l))!=null&&I.length||o(a)?(h(),M(p,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])]),s[1]||(s[1]=t("img",{src:g2,alt:"Dollar Icon"},null,-1))]),t("div",B2,[t("div",G2,[s[2]||(s[2]=t("span",null,"عملاء المتجر",-1)),t("div",H2,[!((R=o(r))!=null&&R.length)&&!o(a)?(h(),g("h2",j2,_(o(r)),1)):v("",!0),(N=o(r))!=null&&N.length||o(a)?(h(),M(p,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])]),s[3]||(s[3]=t("img",{src:y2,alt:"Store Icon"},null,-1))]),t("div",E2,[t("div",z2,[s[4]||(s[4]=t("span",null,"متوسط عملاء السوق",-1)),t("div",I2,[!((P=o(l))!=null&&P.length)&&!o(a)?(h(),g("h2",R2,_((Y=o(l))==null?void 0:Y.marketClientAverage),1)):v("",!0),(Z=o(l))!=null&&Z.length||o(a)?(h(),M(p,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])]),s[5]||(s[5]=t("img",{src:b2,alt:"User Icon"},null,-1))])])]),t("div",N2,[t("div",P2,[s[6]||(s[6]=t("h3",{class:"main-title bold text-center mb-4"},"متوسط زيارات السوق",-1)),y(c)])]),t("div",Y2,[t("div",Z2,[t("h3",O2,_(e.$t("Global.distribution")),1),t("h3",F2,_(e.$t("Global.distribution_channels")),1),y(k)])]),t("div",T2,[t("div",U2,[t("h3",q2,_(e.$t("Global.commercial_Products")),1),t("h3",W2,_(e.$t("Global.highest_Sales")),1),y(L,{"data-ready":o(d),"products-data":o(i),loading:o(a)},null,8,["data-ready","products-data","loading"])])])])])])])}}};export{dt as default};
