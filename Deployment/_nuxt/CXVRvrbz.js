const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D0Uutl0B.js","./qYMLPQxU.js","./CDjVABWN.js"])))=>i.map(i=>d[i]);
import{j as $,A,B as D,r as d,m as G,e as I,p as N,u as l,o as x,c as g,a as t,b as w,i as B,F as j,g as z,n as O,t as b,w as W,d as C,f as M,_ as P}from"./CDjVABWN.js";import{s as T}from"./D8qqV3WI.js";import{i as U,a as H,b as q,c as J,d as K,_ as Q}from"./qYMLPQxU.js";import X from"./F3QQJnpl.js";import{i as Z}from"./BOjzTTy3.js";import"./vdJJGTyi.js";import"./GeIhuEdx.js";import"./BXjy7pqY.js";import"./BbxwispC.js";const ee=K(Q),te={key:0,class:"w-100"},ae={class:"d-flex align-items-center justify-content-center gap-4 mb-4"},oe={class:"with_cun_select custom-select"},se={class:"flex justify-content-center dropdown_card"},le={class:"chart-container"},ne={class:"year-labels"},re=["onClick"],ie={class:"dialog-content"},ce={class:"value"},ue={class:"value"},de={class:"value"},me={__name:"businessGrowth",async setup(E){let f,m;$();const v=([f,m]=A(()=>D(()=>import("./D0Uutl0B.js"),__vite__mapDeps([0,1,2]),import.meta.url)),f=await f,m(),f);v.use([Z,U,H,q,J]);const S=d(!1),n=d(null),F=d([{name:"عرض الكل",id:0},{name:"2020",id:2020},{name:"2021",id:2021},{name:"2022",id:2022},{name:"2023",id:2023},{name:"2024",id:2024}]),p=d(null),o={2020:{sales:85,market:90,repeatRate:10},2021:{sales:91,market:110,repeatRate:15},2022:{sales:102,market:140,repeatRate:5},2023:{sales:108,market:105,repeatRate:20},2024:{sales:115,market:150,repeatRate:18}},_=d(!1),h=d(""),y=d({}),L=()=>{_.value=!1},V=s=>{if(s.componentType==="xAxis"){const e=parseInt(s.value,10);o[e]&&(h.value=e,y.value=o[e],_.value=!0)}else if(s&&s.name){const e=parseInt(s.name,10);o[e]&&(h.value=e,y.value=o[e],_.value=!0)}},c=d({legend:{bottom:"5%",show:!0,left:"center",icon:"circle",itemWidth:8,itemHeight:8,itemGap:25,textStyle:{color:"#2B3674",fontSize:12,fontFamily:"Cairo"}},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#E2E8F0",width:1}},backgroundColor:"#fff",borderColor:"#E2E8F0",borderWidth:1,textStyle:{color:"#2B3674",fontFamily:"Cairo"}},grid:{left:"3%",right:"4%",bottom:"15%",top:"5%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,data:[],axisLine:{lineStyle:{color:"#E2E8F0"}},axisLabel:{interval:0,color:"#2B3674",fontFamily:"Cairo",fontSize:12,show:!0,clickable:!0,rich:{a:{color:"#2B3674",fontFamily:"Cairo",fontSize:12,cursor:"pointer",textDecoration:"underline"}},formatter:function(s){return"{a|"+s+"}"}}},yAxis:{type:"value",show:!0,splitLine:{lineStyle:{color:"#E2E8F0",type:"dashed"}},axisLabel:{color:"#2B3674",fontFamily:"Cairo",fontSize:12}},series:[{name:"اجمالي المبيعات للمتجر خلال السنة",type:"line",smooth:.5,symbol:"circle",symbolSize:6,showSymbol:!0,lineStyle:{width:2,color:"#2B3674"},itemStyle:{color:"#2B3674",borderWidth:2},areaStyle:{opacity:.3,color:new v.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(43, 54, 116, 0.3)"},{offset:1,color:"rgba(43, 54, 116, 0.05)"}])},data:[]},{name:"الحصة السوقية للمتجر من السوق",type:"line",smooth:.5,symbol:"circle",symbolSize:6,showSymbol:!0,lineStyle:{width:2,color:"#FF647C"},itemStyle:{color:"#FF647C",borderWidth:2},areaStyle:{opacity:.3,color:new v.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(255, 100, 124, 0.3)"},{offset:1,color:"rgba(255, 100, 124, 0.05)"}])},data:[]}]}),Y=G(()=>{if(!n.value||n.value.id===0)return Object.keys(o);const s=n.value.id,e=Object.keys(o).map(Number),r=Math.max(...e),i=[];for(let a=s;a<=r;a++)o[a]&&i.push(a.toString());return i}),R=s=>{const e=parseInt(s,10);o[e]&&(h.value=e,y.value=o[e],_.value=!0)},k=()=>{if(!n.value)return;const s=n.value.id;if(s===0){const e=Object.keys(o);c.value.xAxis.data=e,c.value.series[0].data=e.map(r=>o[r].sales),c.value.series[1].data=e.map(r=>o[r].market)}else{const e=Object.keys(o).map(Number),r=Math.max(...e),i=[];for(let a=s;a<=r;a++)o[a]&&i.push(a);c.value.xAxis.data=i.map(a=>a.toString()),c.value.series[0].data=i.map(a=>o[a].sales),c.value.series[1].data=i.map(a=>o[a].market)}p.value&&p.value.chart&&p.value.chart.setOption(c.value,!0)};return I(()=>{S.value=!0,n.value=F.value[0],k(),p.value&&p.value.chart&&p.value.chart.on("click",V)}),N(()=>n.value,k),(s,e)=>{const r=T,i=ee,a=X;return l(S)?(x(),g("div",te,[t("div",ae,[e[2]||(e[2]=t("label",{class:"label mb-0"},"اختر السنة",-1)),t("div",oe,[t("div",se,[w(r,{modelValue:l(n),"onUpdate:modelValue":e[0]||(e[0]=u=>B(n)?n.value=u:null),onChange:k,options:l(F),optionLabel:"name",placeholder:"اختر السنة",class:"w-full md:w-14rem custum-dropdown"},null,8,["modelValue","options"])])])]),t("div",le,[w(i,{ref_key:"chart",ref:p,class:"custom-chart",option:l(c),style:{height:"300px",width:"100%",display:"block"}},null,8,["option"]),t("div",ne,[(x(!0),g(j,null,z(l(Y),u=>(x(),g("div",{key:u,class:O(["year-label",{active:l(h)===u}]),onClick:fe=>R(u)},b(u),11,re))),128))])]),w(a,{visible:l(_),"onUpdate:visible":e[1]||(e[1]=u=>B(_)?_.value=u:null),modal:""},{default:W(()=>[t("div",ie,[t("h3",null,"مؤشرات سنة "+b(l(h)),1),t("ul",null,[t("li",null,[e[3]||(e[3]=C("مبيعات السنة: ")),t("span",ce,b(l(y).sales)+" ريال",1)]),t("li",null,[e[4]||(e[4]=C("الحصة السوقية للمتجر: ")),t("span",ue,b(l(y).market)+"%",1)]),t("li",null,[e[5]||(e[5]=C("نسبة تكرار الشراء: ")),t("span",de,b(l(y).repeatRate||"غير متوفرة")+"%",1)])]),t("button",{onClick:L},"إغلاق النافذة")])]),_:1},8,["visible"])])):M("",!0)}}},pe={class:"container"},_e={class:"layout-form chart_layout"},ye={__name:"businessGrowth",setup(E){return(f,m)=>{const v=me;return x(),g("div",pe,[m[1]||(m[1]=t("h1",{class:"main-title bold lg mb-4"},"نمو الاعمال ",-1)),t("div",_e,[m[0]||(m[0]=t("h3",{class:"main-title bold text-center mb-5"},"نمو الاعمال",-1)),w(v)])])}}},Fe=P(ye,[["__scopeId","data-v-bc014688"]]);export{Fe as default};
