import{_ as N}from"./Bh7SNbc8.js";import{s as T}from"./D8qqV3WI.js";import{j,r as o,s as z,e as R,c as p,a as e,t as l,h as q,b as y,u as n,d as _,k as f,q as v,i as c,w,o as h,n as k}from"./CDjVABWN.js";import{u as E}from"./CVjljgFj.js";import{u as F,r as G}from"./Bwfks3Mu.js";import"./vdJJGTyi.js";import"./GeIhuEdx.js";import"./BXjy7pqY.js";import"./BbxwispC.js";const H={class:"container"},L={class:"layout-form custom-width"},J={class:"main-title bold lg mb-5"},K={class:"row"},O={class:"col-12 col-md-8 mr-auto"},Q={class:"form-group text-center"},W={class:"input_auth without_label"},X={class:"form-group"},Y={class:"label"},Z={class:"main_input"},P=["placeholder"],ee={class:"form-group"},se={class:"label"},te={class:"with_cun_select"},ae={class:"main_input"},oe=["placeholder"],le={class:"card d-flex justify-content-center dropdown_card"},ne={key:0,class:"flex-group-me"},ie=["alt","src"],de={key:1},ue={class:"flex-group-me"},re=["alt","src"],me={class:"form-group"},ce={class:"label"},pe={class:"main_input"},_e=["placeholder"],Ve={__name:"profile",setup(fe){j({useScope:"global"});const{response:A}=G(),g=F(),$=E();o(!1);const{token:V}=z($),U=o([]),i=o({}),d=o([]),b=o(""),u=o(""),r=o(""),m=o(""),I=o(null),x=t=>{U.value=t},B={headers:{Authorization:`Bearer ${V.value}`}},C=async()=>{await g.get("profile",B).then(t=>{u.value=t.data.data.name,r.value=t.data.data.phone,m.value=t.data.data.email,i.value=t.data.data.country_code,b.value=t.data.data.image}).catch(t=>console.log(t))},S=async()=>{await g.get("countries").then(t=>{if(A(t)=="success"){d.value=t.data.data;for(let s=0;s<d.value.length;s++)d.value[s].id==1&&(i.value=d.value[s])}}).catch(t=>console.log(t))};return R(async()=>{await C(),await S()}),(t,s)=>{const D=N,M=T;return h(),p("div",H,[e("div",L,[e("h1",J,l(t.$t("Home.profile_personly")),1),e("form",{onSubmit:s[4]||(s[4]=q((...a)=>t.editProfile&&t.editProfile(...a),["prevent"])),ref_key:"editProfileform",ref:I},[e("div",K,[e("div",O,[e("div",Q,[e("div",W,[s[5]||(s[5]=e("div",{class:"edit-label"},[e("i",{class:"fas fa-edit"})],-1)),y(D,{acceptedFiles:"image/*",newImages:n(b),name:"image",onUploadedImagesUpdated:x},null,8,["newImages"])])]),e("div",X,[e("label",Y,[_(l(t.$t("Auth.username"))+" ",1),s[6]||(s[6]=e("span",{class:"hint-red"},"*",-1))]),e("div",Z,[s[7]||(s[7]=e("i",{class:"fas fa-user sm-icon"},null,-1)),f(e("input",{type:"text",class:"custum-input-icon",name:"name",readonly:"","onUpdate:modelValue":s[0]||(s[0]=a=>c(u)?u.value=a:null),placeholder:t.$t("Auth.enter_username")},null,8,P),[[v,n(u)]])])]),e("div",ee,[e("label",se,[_(l(t.$t("Auth.mobile_number"))+" ",1),s[8]||(s[8]=e("span",{class:"hint-red"},"*",-1))]),e("div",te,[e("div",ae,[s[9]||(s[9]=e("i",{class:"fas fa-mobile-alt sm-icon"},null,-1)),f(e("input",{type:"number",class:"custum-input-icon",name:"phone",readonly:"","onUpdate:modelValue":s[1]||(s[1]=a=>c(r)?r.value=a:null),placeholder:t.$t("Auth.please_mobile_number")},null,8,oe),[[v,n(r)]])]),e("div",le,[y(M,{modelValue:n(i),"onUpdate:modelValue":s[2]||(s[2]=a=>c(i)?i.value=a:null),options:n(d),optionLabel:"name",disabled:""},{value:w(a=>[a.value?(h(),p("div",ne,[e("img",{alt:a.value.label,src:a.value.image,class:k(`mr-2 flag flag-${a.value.key}`),style:{width:"24px"}},null,10,ie),e("div",null,l(a.value.key),1)])):(h(),p("span",de,l(a.placeholder),1))]),option:w(a=>[e("div",ue,[e("img",{alt:a.option.label,src:a.option.image,class:k(`mr-2 flag flag-${a.option.key}`),style:{width:"24px"}},null,10,re),e("div",null,l(a.option.key),1)])]),_:1},8,["modelValue","options"])])])]),e("div",me,[e("label",ce,[_(l(t.$t("Auth.email"))+" ",1),s[10]||(s[10]=e("span",{class:"hint-red"},"*",-1))]),e("div",pe,[s[11]||(s[11]=e("i",{class:"fas fa-envelope sm-icon"},null,-1)),f(e("input",{type:"email",class:"custum-input-icon",name:"email",readonly:"","onUpdate:modelValue":s[3]||(s[3]=a=>c(m)?m.value=a:null),placeholder:t.$t("Auth.please_enter_email")},null,8,_e),[[v,n(m)]])])])])])],544)])])}}};export{Ve as default};
