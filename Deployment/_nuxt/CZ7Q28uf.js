const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Q-35Yji7.js","./CDlzdOTb.js","./D-VMeSxB.js","./entry.B0b_3z4T.css"])))=>i.map(i=>d[i]);
import W from"./odAbrBWe.js";import{h as P,A as K,B as Q,r as a,s as B,l as V,e as F,H as Z,o as h,c as b,a as t,b as w,g as v,u as s,J as X,t as x,x as D}from"./D-VMeSxB.js";import{s as t2}from"./BI6LH82z.js";import{i as O,a as T,b as U,c as e2,d as q,_ as J,u as s2,e as o2}from"./CDlzdOTb.js";import{u as H}from"./DJYzN9Wt.js";import{u as j,r as E}from"./DXutHP6I.js";import{i as a2}from"./BrIurV67.js";import{_ as n2}from"./DrP2EA8L.js";import{t as i2}from"./CXXOs6ER.js";import"./sgG04kvI.js";import"./Dek1o18V.js";import"./Cgubm84o.js";import"./D4zmuc0_.js";const l2=q(J),r2={key:0,class:"w-100",style:{height:"400px"}},c2={class:"d-flex align-items-center justify-content-center gap-4"},d2={class:"with_cun_select custom-select"},u2={class:"flex justify-content-center dropdown_card"},m2={__name:"yearLimit",async setup(z){let o,_;const L=j(),{response:A}=E(),{t:g}=P(),u=([o,_]=K(()=>Q(()=>import("./Q-35Yji7.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),o=await o,_(),o);u.use([a2,O,T,U,e2]);const i=a(!1),m=a(!1),p=a(null),c=a([{name:"2020",id:2020},{name:"2021",id:2021},{name:"2022",id:2022},{name:"2023",id:2023},{name:"2024",id:2024},{name:"2025",id:2025}]),d=a(["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]),l=a(null),{token:$}=B(H()),n=V(()=>({headers:{Authorization:`Bearer ${$.value}`}})),e=a({legend:{top:"5%",show:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLabel:{interval:0,rotate:45}},yAxis:{type:"value",show:!1},series:[{name:g("Global.females"),type:"line",smooth:!0,symbol:"square",symbolSize:7,showSymbol:!0,lineStyle:{width:2,color:"#4681f4"},itemStyle:{color:"#013660"},areaStyle:{color:new u.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(70, 129, 244, 0.6)"},{offset:1,color:"rgba(70, 129, 244, 0.2)"}])},data:[]}]}),k=async()=>{p.value&&await S(p.value.id)},S=async f=>{try{const r=await L.get(`AverageMarketVisits?year=${f}`,n.value);if(A(r)=="success"){const y=r.data.data;e.value.xAxis.data=d.value,e.value.series[0].data=y.map(C=>Number(C.value)),await Z(),l.value&&l.value.chart&&l.value.chart.resize(),m.value=!0}}catch(r){console.error(r)}};return F(async()=>{i.value=!0;const f=new Date().getFullYear();p.value=c.value.find(r=>r.id===f),await Z(),S(f)}),(f,r)=>{const y=t2,C=l2;return i.value&&m.value?(h(),b("div",r2,[t("div",c2,[r[1]||(r[1]=t("label",{class:"label mb-0"},"اختر السنة",-1)),t("div",d2,[t("div",u2,[w(y,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=M=>p.value=M),onChange:k,options:c.value,optionLabel:"name",placeholder:"اختر السنة",class:"w-full md:w-14rem custum-dropdown"},null,8,["modelValue","options"])])])]),w(C,{ref_key:"chart",ref:l,class:"custom-chart",option:e.value,style:{height:"100%",width:"100%",display:"block"}},null,8,["option"])])):v("",!0)}}},p2=q(J),h2={key:0,class:"w-100"},_2={__name:"Visitors",setup(z){s2([T,O,o2,U]);const o=a(!1),_=a(null),{token:L}=B(H()),A=j(),{response:g}=E(),u=a({data:[]}),i=V(()=>({headers:{Authorization:`Bearer ${L.value}`}})),m=V(()=>{var c,d;return{grid:{left:"5%",right:"5%",top:"10%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:((c=u.value.data)==null?void 0:c.map(l=>l.name))||[],axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisLabel:{formatter:"{value} %"}},tooltip:{trigger:"item",formatter:"{b}: {c}%"},series:[{data:((d=u.value.data)==null?void 0:d.map(l=>l.value))||[],type:"bar",barWidth:"50%",itemStyle:{color:l=>["#c1c1c1","#c1c1c1","#c1c1c1","#d9534f","#c1c1c1","#d9534f"][l.dataIndex],borderRadius:[5,5,0,0]},label:{show:!0,position:"top",formatter:"{c}%",fontSize:12,color:"#000"}}]}});return F(async()=>{var c;try{const d=await A.get("VisitorMovement",i.value);g(d)==="success"&&(u.value=d.data,console.log(u.value,"visitorsData"),(c=_.value)!=null&&c.chart&&_.value.chart.setOption(m.value))}catch(d){console.error(d)}finally{o.value=!0}}),(c,d)=>{const l=p2;return s(o)?(h(),b("div",h2,[w(l,{ref_key:"chart",ref:_,option:s(m),style:{height:"300px",width:"100%",display:"block"}},null,8,["option"])])):v("",!0)}}},v2="data:image/svg+xml,%3csvg%20width='39'%20height='75'%20viewBox='0%200%2039%2075'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.2754%2074.5V66.25V65.8173L23.7036%2065.7552C27.9297%2065.1424%2031.4515%2063.5809%2034.29%2061.083C37.0744%2058.6327%2038.5%2055.0365%2038.5%2050.2083C38.5%2046.3634%2037.3047%2042.986%2034.9109%2040.0559C32.5232%2037.1333%2028.9892%2034.9742%2024.2631%2033.6056C24.2628%2033.6055%2024.2624%2033.6054%2024.262%2033.6053L24.4011%2033.125C19.2567%2031.6667%2015.6417%2030.2778%2013.5561%2028.9583C11.4706%2027.6389%2010.4278%2025.8333%2010.4278%2023.5417C10.4278%2021.5278%2011.2273%2019.8438%2012.8262%2018.4896C14.4251%2017.1354%2016.754%2016.4583%2019.8128%2016.4583C22.4545%2016.4583%2024.5401%2017.0139%2026.0695%2018.125C27.4902%2019.1571%2028.611%2020.6686%2029.4318%2022.6595L23.2754%2074.5ZM23.2754%2074.5H15.9332V66.0417V65.6421L15.5435%2065.554C11.9358%2064.738%208.83239%2063.1774%206.22248%2060.875C3.72205%2058.6692%201.84427%2055.5694%200.609215%2051.5427L7.40674%2048.7899C8.46634%2051.9382%2010.0016%2054.3904%2012.0339%2056.1108C14.1952%2057.9405%2017.0129%2058.8333%2020.4385%2058.8333C23.3651%2058.8333%2025.8801%2058.173%2027.9579%2056.8258C30.1042%2055.4341%2031.1578%2053.2653%2031.1578%2050.4167C31.1578%2047.8721%2030.3521%2045.8033%2028.7043%2044.2694C27.8796%2043.5018%2026.5518%2042.7155%2024.7647%2041.9017C22.9686%2041.0838%2020.6725%2040.2221%2017.8817%2039.3161L17.8769%2039.3146C11.9242%2037.4477%207.93391%2035.2431%205.80263%2032.7482C3.66291%2030.2433%202.58556%2027.1847%202.58556%2023.5417C2.58556%2019.1457%204.00133%2015.7887%206.79044%2013.4006C9.65326%2010.9494%2012.5522%209.58024%2015.4896%209.24681L15.9332%209.19645V8.75V0.5H23.2754V8.75V9.17643L23.6965%209.24373C27.0957%209.78703%2029.8717%2011.021%2032.0489%2012.9282C34.127%2014.7486%2035.6744%2016.9446%2036.694%2019.5224L29.8908%2022.4612L23.2754%2074.5Z'%20stroke='%23ECF5FC'/%3e%3c/svg%3e",f2="data:image/svg+xml,%3csvg%20width='57'%20height='54'%20viewBox='0%200%2057%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M49.9844%2023.875V44.4367C49.9844%2048.6267%2046.5398%2052%2042.2612%2052H14.7388C10.4601%2052%207.01562%2048.6267%207.01562%2044.4367V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M53.6715%2015.6057L48.9625%202H8.03749L3.32855%2015.6057C2.66647%2017.5186%202.32812%2019.5336%202.32813%2021.5635C2.42494%2022.2688%202.7911%2022.9059%203.34598%2023.3345C3.90086%2023.7631%204.59901%2023.948%205.28692%2023.8488H51.7131C52.1016%2023.8488%2052.4864%2023.7703%2052.8454%2023.6178C53.2043%2023.4654%2053.5306%2023.2419%2053.8053%2022.9602C54.0801%2022.6785%2054.298%2022.344%2054.4467%2021.9759C54.5954%2021.6078%2054.6719%2021.2133%2054.6719%2020.8148C54.6303%2019.0327%2054.2919%2017.2709%2053.6715%2015.6057Z'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M37.4844%202L42.2287%2016.3283C42.7081%2017.7762%2042.9531%2019.3011%2042.9531%2020.8374V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M19.5156%202L14.7713%2016.3283C14.2919%2017.7762%2014.0469%2019.3011%2014.0469%2020.8374V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28.1094%202V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",g2="data:image/svg+xml,%3csvg%20width='51'%20height='48'%20viewBox='0%200%2051%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42.3808%2030.4706H8.61922C4.83899%2030.4706%201.77451%2033.6054%201.77451%2037.4724V38.9982C1.77451%2042.8652%204.83899%2046%208.61922%2046H42.3808C46.161%2046%2049.2255%2042.8652%2049.2255%2038.9982V37.4724C49.2255%2033.6054%2046.161%2030.4706%2042.3808%2030.4706Z'%20stroke='%23013660'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.5%2023.5686C31.456%2023.5686%2036.2843%2018.7403%2036.2843%2012.7843C36.2843%206.8283%2031.456%202%2025.5%202C19.544%202%2014.7157%206.8283%2014.7157%2012.7843C14.7157%2018.7403%2019.544%2023.5686%2025.5%2023.5686Z'%20stroke='%23013660'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",y2={class:"container"},C2={class:"row"},b2={class:"col-12 col-md-3 mb-4"},w2={class:"info-box"},k2={class:"info-box-item market-size"},x2={class:"info-content"},V2={class:"d-flex align-items-baseline gap-2"},L2={key:0},A2={class:"info-box-item store-clients"},$2={class:"info-content"},S2={class:"d-flex align-items-baseline gap-2"},M2={key:0},D2={class:"info-box-item market-clients"},B2={class:"info-content"},H2={class:"d-flex align-items-baseline gap-2"},j2={key:0},E2={class:"col-12 col-md-9 mb-4"},z2={class:"layout-form chart_layout"},G2={class:"col-12 col-md-6 mb-4"},I2={class:"layout-form chart_layout"},R2={class:"main-title bold text-center mb-3"},N2={class:"main-title sm text-center mb-0"},Y2={class:"col-12 col-md-6 mb-4"},Z2={class:"layout-form chart_layout"},st={__name:"home",setup(z){P();const o=a(!0),{token:_,user:L,isLoggedIn:A}=B(H()),{response:g}=E();i2();const u=j(),i=a(null),m=a(null),p=V(()=>({headers:{Authorization:`Bearer ${_.value}`}})),c=a(!1),d=V(()=>{var n;return(n=i.value)!=null&&n.competitors?{labels:i.value.competitors.map(e=>({id:e.id,text:e.competitorName,image:e.logo})),series:i.value.competitors.map(e=>e.totalMarketVisitors),colors:{bar:"#f75c5c",text:"#ffffff"}}:{labels:[],series:[],colors:{bar:"#f75c5c",text:"#ffffff"}}});a([[40,50,60,70,65,75,85,80,90,95,110,115],[30,40,55,50,55,60,75,72,78,82,90,95]]),a([{name:"عرض الكل",id:0},{name:"يناير",id:1,days:31},{name:"فبراير",id:2,days:28},{name:"مارس",id:3,days:31},{name:"أبريل",id:4,days:30},{name:"مايو",id:5,days:31},{name:"يونيو",id:6,days:30},{name:"يوليو",id:7,days:31},{name:"أغسطس",id:8,days:31},{name:"سبتمبر",id:9,days:30},{name:"أكتوبر",id:10,days:31},{name:"نوفمبر",id:11,days:30},{name:"ديسمبر",id:12,days:31}]),a(["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]),a([["label 1",43.3,85.8],["label 2",83.1,73.4],["label 3",86.4,65.2],["label 4",72.4,53.9],["label 5",43.3,85.8],["Ramadan",83.1,73.4]]);const l=async()=>{o.value=!0,await u.get("GetHomeStaticData",p.value).then(n=>{g(n)=="success"&&(i.value=n.data.data,console.log(i.value,"HomeData")),o.value=!1}).catch(n=>{console.error(n)})},$=async()=>{o.value=!0,await u.get("GetStoreCustomers",p.value).then(n=>{g(n)=="success"&&(m.value=n.data.data),o.value=!1}).catch(n=>{console.error(n)})};return X(async()=>{await l(),await $(),c.value=!0}),(n,e)=>{var y,C,M,G,I,R,N,Y;const k=W,S=m2,f=_2,r=n2;return h(),b("div",null,[t("main",null,[t("div",y2,[t("div",C2,[t("div",b2,[t("div",w2,[t("div",k2,[t("div",x2,[e[0]||(e[0]=t("span",null,"حجم السوق",-1)),t("div",V2,[!((y=s(i))!=null&&y.length)&&!s(o)?(h(),b("h2",L2,x((C=s(i))==null?void 0:C.marketSize),1)):v("",!0),(M=s(i))!=null&&M.length||s(o)?(h(),D(k,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])]),e[1]||(e[1]=t("img",{src:v2,alt:"Dollar Icon"},null,-1))]),t("div",A2,[t("div",$2,[e[2]||(e[2]=t("span",null,"عملاء المتجر",-1)),t("div",S2,[!((G=s(m))!=null&&G.length)&&!s(o)?(h(),b("h2",M2,x(s(m)),1)):v("",!0),(I=s(m))!=null&&I.length||s(o)?(h(),D(k,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])]),e[3]||(e[3]=t("img",{src:f2,alt:"Store Icon"},null,-1))]),t("div",D2,[t("div",B2,[e[4]||(e[4]=t("span",null,"متوسط عملاء السوق",-1)),t("div",H2,[!((R=s(i))!=null&&R.length)&&!s(o)?(h(),b("h2",j2,x((N=s(i))==null?void 0:N.marketClientAverage),1)):v("",!0),(Y=s(i))!=null&&Y.length||s(o)?(h(),D(k,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])]),e[5]||(e[5]=t("img",{src:g2,alt:"User Icon"},null,-1))])])]),t("div",E2,[t("div",z2,[e[6]||(e[6]=t("h3",{class:"main-title bold text-center mb-4"},"متوسط زيارات السوق",-1)),w(S)])]),t("div",G2,[t("div",I2,[t("h3",R2,x(n.$t("Global.distribution")),1),t("h3",N2,x(n.$t("Global.distribution_channels")),1),w(f)])]),t("div",Y2,[t("div",Z2,[e[7]||(e[7]=t("h3",{class:"main-title bold text-center mb-3"},"المنافسون",-1)),e[8]||(e[8]=t("h3",{class:"desc text-center mb-0"},"معدل أستحواذ منافسيك على حركة الزيارات من إجمالي حركة زيارات السوق",-1)),w(r,{"data-ready":s(c),"products-data":s(d),loading:s(o)},null,8,["data-ready","products-data","loading"])])])])])])])}}};export{st as default};
