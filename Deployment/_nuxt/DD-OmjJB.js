import{_ as K}from"./BIGgS_cD.js";import{s as O}from"./DtO6JiF_.js";import{_ as D}from"./Dd-XoWiw.js";import{h as Q,r as a,e as W,c as w,a as e,t as l,f as X,b as y,d as i,j as u,p as V,u as n,i as r,w as b,v as S,n as k,y as Y,g as Z,o as $}from"./uThEF0pG.js";import{u as ss,r as es}from"./DXutHP6I.js";import{t as ts}from"./D12V8fHa.js";import{u as os}from"./Bd7qOfwp.js";import"./DHbUyDQF.js";import"./ONLDI__z.js";import"./CSOY44ds.js";import"./BM32T4zb.js";const ls={class:"container"},as={class:"auth-layout flex-column"},ns={class:"layout-form custom-width"},is={class:"main-title bold lg mb-5"},ds={class:"row"},us={class:"col-12 col-md-8 mr-auto"},rs={class:"form-group text-center"},cs={class:"input_auth"},ps={class:"form-group"},ms={class:"label"},vs={class:"main_input"},_s=["placeholder"],fs={class:"form-group"},hs={class:"label"},gs={class:"with_cun_select"},ws={class:"main_input"},ys=["placeholder"],bs={class:"card d-flex justify-content-center dropdown_card"},ks={key:0,class:"flex-group-me"},$s=["alt","src"],As={key:1},Us={class:"flex-group-me"},Vs=["alt","src"],Is={class:"form-group"},Ns={class:"label"},Cs={class:"main_input"},Ms=["placeholder"],Ds={class:"form-group"},Ss={class:"label"},Ts={class:"main_input with_icon"},xs=["type","placeholder"],Fs={class:"form-group"},Bs={class:"label"},Ps={class:"main_input with_icon"},js=["type","placeholder"],Ls={class:"radios form-group check-inner mb-4"},qs={class:"d-flex gap-3"},zs={class:"custom-radio custom-check"},Es={class:"check-text hint"},Gs=["disabled"],Hs={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Rs={class:"new-sign mt-4"},le={__name:"register",setup(Js){const{t:A}=Q({useScope:"global"}),{response:T}=es(),{successToast:x,errorToast:I}=ts(),F=ss(),c=a(null),B=os(),{signUpHandler:P}=B,N=a(null),p=a({}),m=a([]),j=a([]),d=a([]),v=a(!1),f=a(!1),U=a(""),h=a(""),g=a(""),_=a({definitelyNewPassword:!1,definitelyNewPassword_2:!1}),L=t=>{j.value=t},C=t=>{_.value[t]=!_.value[t]},M=t=>_.value[t]?"text":"password",q=async()=>{await F.get("countries").then(t=>{if(T(t)=="success"){m.value=t.data.data;for(let s=0;s<m.value.length;s++)m.value[s].id==1&&(p.value=m.value[s])}}).catch(t=>console.log(t))};function z(){let t=document.querySelectorAll(".validInputs");for(let s=0;s<t.length;s++)t[s].value===""&&d.value.push(A(`validation.${t[s].name}`));h.value!==g.value&&d.value.push(A("validation.confirmPassword")),f.value||d.value.push(A("validation.conditions")),c.value==0&&(c.value=null)}const E=async()=>{const t=new FormData(N.value);if(t.append("country_code",p.value.key),z(),d.value.length)I(d.value[0]),v.value=!1,d.value=[];else{v.value=!0;const s=await P(t);s.status=="success"?x(s.msg):I(s.msg),v.value=!1}};return W(async()=>{await q()}),(t,s)=>{const G=K,H=O,R=D,J=D;return $(),w("div",ls,[e("div",as,[s[23]||(s[23]=e("h1",{class:"main-title bold lg mb-5"},"مرحبًا بك فى بروزة",-1)),e("div",ns,[e("h1",is,l(t.$t("Auth.create_account")),1),e("form",{onSubmit:X(E,["prevent"]),ref_key:"signUpForm",ref:N},[e("div",ds,[e("div",us,[e("div",rs,[e("div",cs,[s[9]||(s[9]=e("div",{class:"edit-label"},[e("i",{class:"fas fa-edit"})],-1)),y(G,{acceptedFiles:"image/*",newImages:t.logo,name:"image",onUploadedImagesUpdated:L},null,8,["newImages"])])]),e("div",ps,[e("label",ms,[i(l(t.$t("Auth.username"))+" ",1),s[10]||(s[10]=e("span",{class:"hint-red"},"*",-1))]),e("div",vs,[s[11]||(s[11]=e("i",{class:"fas fa-user sm-icon"},null,-1)),u(e("input",{type:"text",class:"custum-input-icon validInputs",valid:"name",name:"name","onUpdate:modelValue":s[0]||(s[0]=o=>t.name=o),placeholder:t.$t("Auth.enter_username")},null,8,_s),[[V,t.name]])])]),e("div",fs,[e("label",hs,[i(l(t.$t("Auth.mobile_number"))+" ",1),s[12]||(s[12]=e("span",{class:"hint-red"},"*",-1))]),e("div",gs,[e("div",ws,[s[13]||(s[13]=e("i",{class:"fas fa-mobile-alt sm-icon"},null,-1)),u(e("input",{type:"number",class:"custum-input-icon validInputs",valid:"phone",name:"phone","onUpdate:modelValue":s[1]||(s[1]=o=>r(c)?c.value=o:null),placeholder:t.$t("Auth.please_mobile_number")},null,8,ys),[[V,n(c)]])]),e("div",bs,[y(H,{modelValue:n(p),"onUpdate:modelValue":s[2]||(s[2]=o=>r(p)?p.value=o:null),options:n(m),optionLabel:"name"},{value:b(o=>[o.value?($(),w("div",ks,[e("img",{alt:o.value.label,src:o.value.image,class:k(`mr-2 flag flag-${o.value.key}`),style:{width:"24px"}},null,10,$s),e("div",null,l(o.value.key),1)])):($(),w("span",As,l(o.placeholder),1))]),option:b(o=>[e("div",Us,[e("img",{alt:o.option.label,src:o.option.image,class:k(`mr-2 flag flag-${o.option.key}`),style:{width:"24px"}},null,10,Vs),e("div",null,l(o.option.key),1)])]),_:1},8,["modelValue","options"])])])]),e("div",Is,[e("label",Ns,[i(l(t.$t("Auth.email"))+" ",1),s[14]||(s[14]=e("span",{class:"hint-red"},"*",-1))]),e("div",Cs,[s[15]||(s[15]=e("i",{class:"fas fa-envelope sm-icon"},null,-1)),u(e("input",{type:"email",class:"custum-input-icon validInputs",valid:"email",name:"email","onUpdate:modelValue":s[3]||(s[3]=o=>r(U)?U.value=o:null),placeholder:t.$t("Auth.please_enter_email")},null,8,Ms),[[V,n(U)]])])]),e("div",Ds,[e("label",Ss,[i(l(t.$t("Auth.password"))+" ",1),s[16]||(s[16]=e("span",{class:"hint-red"},"*",-1))]),e("div",Ts,[s[18]||(s[18]=e("i",{class:"fas fa-lock sm-icon"},null,-1)),u(e("input",{type:M("definitelyNewPassword"),name:"password","onUpdate:modelValue":s[4]||(s[4]=o=>r(h)?h.value=o:null),class:"custum-input-icon validInputs",valid:"password",placeholder:t.$t("Auth.please_enter_password")},null,8,xs),[[S,n(h)]]),e("button",{class:k(["static-btn with_eye",{active_class:n(_).definitelyNewPassword}]),type:"button",onClick:s[5]||(s[5]=o=>C("definitelyNewPassword"))},s[17]||(s[17]=[e("i",{class:"far fa-eye icon"},null,-1)]),2)])]),e("div",Fs,[e("label",Bs,[i(l(t.$t("Auth.confirm_password_sm"))+" ",1),s[19]||(s[19]=e("span",{class:"hint-red"},"*",-1))]),e("div",Ps,[s[21]||(s[21]=e("i",{class:"fas fa-lock sm-icon"},null,-1)),u(e("input",{type:M("definitelyNewPassword_2"),name:"password_confirmation","onUpdate:modelValue":s[6]||(s[6]=o=>r(g)?g.value=o:null),class:"custum-input-icon validInputs",placeholder:t.$t("Auth.please_confirm_password")},null,8,js),[[S,n(g)]]),e("button",{class:k(["static-btn with_eye",{active_class:n(_).definitelyNewPassword_2}]),type:"button",onClick:s[7]||(s[7]=o=>C("definitelyNewPassword_2"))},s[20]||(s[20]=[e("i",{class:"far fa-eye icon"},null,-1)]),2)])]),e("div",Ls,[e("div",qs,[e("label",zs,[u(e("input",{type:"checkbox",name:"terms","onUpdate:modelValue":s[8]||(s[8]=o=>r(f)?f.value=o:null),class:"d-none"},null,512),[[Y,n(f)]]),s[22]||(s[22]=e("span",{class:"mark"},[e("i",{class:"fas fa-check icon"})],-1)),e("p",Es,[i(l(t.$t("Auth.agree_to"))+" ",1),y(R,{to:"/terms",target:"_blank",class:"anchor"},{default:b(()=>[i(l(t.$t("Auth.terms_and_conditions")),1)]),_:1})])])])]),e("button",{type:"submit",class:"custom-btn w-100 mr-auto",disabled:n(v)},[i(l(t.$t("Auth.confirmation"))+" ",1),n(v)?($(),w("span",Hs)):Z("",!0)],8,Gs),e("div",Rs,[i(l(t.$t("Auth.already_have_account"))+" ",1),y(J,{to:"/Auth/login"},{default:b(()=>[i(l(t.$t("Auth.login")),1)]),_:1})])])])],544)])])])}}};export{le as default};
