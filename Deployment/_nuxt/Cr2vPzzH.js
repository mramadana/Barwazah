const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CB5X4_9f.js","./CEBG06Q2.js","./CrJkl6Kt.js","./entry.B0b_3z4T.css"])))=>i.map(i=>d[i]);
import X from"./Bt3eIoBV.js";import{e as T,y as tt,z as et,r,s as M,k as V,x as O,E as Z,o as u,c as p,a as t,b,h as v,u as s,_ as st,I as ot,t as y,q as E,F as at,A as nt,d as lt}from"./CrJkl6Kt.js";import{s as rt}from"./CfU-BCT_.js";import{i as q,a as U,b as W,c as it,d as J,_ as K,u as ct,e as dt}from"./CEBG06Q2.js";import{u as D,a as B,r as z}from"./fCqHE100.js";import{i as ut}from"./CjfvX3jr.js";import{_ as mt}from"./BQrvIx1b.js";import{t as _t}from"./CUfL0nt7.js";import"./C2ktJ7Dc.js";import"./CCr8US8o.js";import"./CEPpoEP6.js";import"./CgD8WQxD.js";const ht=J(K),pt={key:0,class:"w-100",style:{height:"300px"}},vt={class:"d-flex align-items-center justify-content-center gap-4"},ft={class:"with_cun_select custom-select"},gt={class:"flex justify-content-center dropdown_card"},yt={__name:"yearLimit",async setup(j){let o,h;const A=D(),{response:L}=z();T();const f=([o,h]=tt(()=>et(()=>import("./CB5X4_9f.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),o=await o,h(),o);f.use([ut,q,U,W,it]);const m=r(!1),n=r(!1),i=r(null),w=r([{name:"2024",id:2024},{name:"2025",id:2025}]),d=r(["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]),l=r(null),{token:_}=M(B()),S=V(()=>({headers:{Authorization:`Bearer ${_.value}`}})),a=r({legend:{top:"5%",show:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{show:!1},lineStyle:{width:0}},axisPointer:{type:"none"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[],axisLabel:{interval:0,rotate:45}},yAxis:{type:"value",show:!1},series:[{name:"زیارات",type:"line",smooth:!0,symbol:"square",symbolSize:7,showSymbol:!0,lineStyle:{width:2,color:"#4681f4"},itemStyle:{color:"#013660"},areaStyle:{color:new f.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(70, 129, 244, 0.6)"},{offset:1,color:"rgba(70, 129, 244, 0.2)"}])},data:[]}]}),e=async()=>{i.value&&await k(i.value.id)},k=async g=>{try{const c=await A.get(`AverageMarketVisits?year=${g}`,S.value);if(L(c)=="success"){const C=c.data.data;a.value.xAxis.data=d.value,a.value.series[0].data=C.map(x=>Number(x.value)),await Z(),l.value&&l.value.chart&&l.value.chart.resize(),n.value=!0}}catch(c){console.error(c)}};return O(async()=>{m.value=!0;const g=new Date().getFullYear();i.value=w.value.find(c=>c.id===g),await Z(),k(g)}),(g,c)=>{const C=rt,x=ht;return m.value&&n.value?(u(),p("div",pt,[t("div",vt,[c[1]||(c[1]=t("label",{class:"label mb-0"},"اختر السنة",-1)),t("div",ft,[t("div",gt,[b(C,{modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=$=>i.value=$),onChange:e,options:w.value,optionLabel:"name",placeholder:"اختر السنة",class:"w-full md:w-14rem custum-dropdown"},null,8,["modelValue","options"])])])]),b(x,{ref_key:"chart",ref:l,class:"custom-chart",option:a.value,style:{height:"100%",width:"100%",display:"block"}},null,8,["option"])])):v("",!0)}}},wt=J(K),kt={key:0,class:"w-100"},xt={__name:"Visitors",setup(j){ct([U,q,dt,W]);const o=r(!1),h=r(null),{token:A}=M(B()),L=D(),{response:f}=z(),m=r({data:[]}),n=V(()=>({headers:{Authorization:`Bearer ${A.value}`}})),i=V(()=>{var d,l;return{grid:{left:"5%",right:"5%",top:"10%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:((d=m.value.data)==null?void 0:d.map(_=>_.name))||[],axisLabel:{interval:0,rotate:-45}},yAxis:{type:"value",axisLabel:{formatter:"{value} %"},show:!1},tooltip:{trigger:"item",formatter:"{b}: {c}%"},series:[{data:((l=m.value.data)==null?void 0:l.map(_=>_.value))||[],type:"bar",barWidth:"50%",showBackground:!0,backgroundStyle:{color:"#EEF6FE",borderRadius:[5,5,0,0]},itemStyle:{color:"#E5254A",borderRadius:[5,5,0,0]},label:{show:!0,position:"top",formatter:"{c}%",fontSize:12,color:"#000"}}]}});return O(async()=>{var d;try{const l=await L.get("VisitorMovement",n.value);f(l)==="success"&&(m.value=l.data,console.log(m.value,"visitorsData"),(d=h.value)!=null&&d.chart&&h.value.chart.setOption(i.value))}catch(l){console.error(l)}finally{o.value=!0}}),(d,l)=>{const _=wt;return s(o)?(u(),p("div",kt,[b(_,{ref_key:"chart",ref:h,option:s(i),style:{height:"300px",width:"100%",display:"block"}},null,8,["option"])])):v("",!0)}}},bt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='Layer_1'%20data-name='Layer%201'%20viewBox='0%200%201124.14%201256.39'%3e%3cdefs%20fill='%235f819d'%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%235f819d;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M699.62,1113.02h0c-20.06,44.48-33.32,92.75-38.4,143.37l424.51-90.24c20.06-44.47,33.31-92.75,38.4-143.37l-424.51,90.24Z'%20fill='%235f819d'/%3e%3cpath%20class='cls-1'%20d='M1085.73,895.8c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.33v-135.2l292.27-62.11c20.06-44.47,33.32-92.75,38.4-143.37l-330.68,70.27V66.13c-50.67,28.45-95.67,66.32-132.25,110.99v403.35l-132.25,28.11V0c-50.67,28.44-95.67,66.32-132.25,110.99v525.69l-295.91,62.88c-20.06,44.47-33.33,92.75-38.42,143.37l334.33-71.05v170.26l-358.3,76.14c-20.06,44.47-33.32,92.75-38.4,143.37l375.04-79.7c30.53-6.35,56.77-24.4,73.83-49.24l68.78-101.97v-.02c7.14-10.55,11.3-23.27,11.3-36.97v-149.98l132.25-28.11v270.4l424.53-90.28Z'%20fill='%235f819d'/%3e%3c/svg%3e",Ct="data:image/svg+xml,%3csvg%20width='57'%20height='54'%20viewBox='0%200%2057%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M49.9844%2023.875V44.4367C49.9844%2048.6267%2046.5398%2052%2042.2612%2052H14.7388C10.4601%2052%207.01562%2048.6267%207.01562%2044.4367V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M53.6715%2015.6057L48.9625%202H8.03749L3.32855%2015.6057C2.66647%2017.5186%202.32812%2019.5336%202.32813%2021.5635C2.42494%2022.2688%202.7911%2022.9059%203.34598%2023.3345C3.90086%2023.7631%204.59901%2023.948%205.28692%2023.8488H51.7131C52.1016%2023.8488%2052.4864%2023.7703%2052.8454%2023.6178C53.2043%2023.4654%2053.5306%2023.2419%2053.8053%2022.9602C54.0801%2022.6785%2054.298%2022.344%2054.4467%2021.9759C54.5954%2021.6078%2054.6719%2021.2133%2054.6719%2020.8148C54.6303%2019.0327%2054.2919%2017.2709%2053.6715%2015.6057Z'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M37.4844%202L42.2287%2016.3283C42.7081%2017.7762%2042.9531%2019.3011%2042.9531%2020.8374V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M19.5156%202L14.7713%2016.3283C14.2919%2017.7762%2014.0469%2019.3011%2014.0469%2020.8374V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28.1094%202V23.875'%20stroke='%23E5254A'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Vt="data:image/svg+xml,%3csvg%20width='51'%20height='48'%20viewBox='0%200%2051%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42.3808%2030.4706H8.61922C4.83899%2030.4706%201.77451%2033.6054%201.77451%2037.4724V38.9982C1.77451%2042.8652%204.83899%2046%208.61922%2046H42.3808C46.161%2046%2049.2255%2042.8652%2049.2255%2038.9982V37.4724C49.2255%2033.6054%2046.161%2030.4706%2042.3808%2030.4706Z'%20stroke='%23013660'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M25.5%2023.5686C31.456%2023.5686%2036.2843%2018.7403%2036.2843%2012.7843C36.2843%206.8283%2031.456%202%2025.5%202C19.544%202%2014.7157%206.8283%2014.7157%2012.7843C14.7157%2018.7403%2019.544%2023.5686%2025.5%2023.5686Z'%20stroke='%23013660'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",At={class:"container"},Lt={class:"home-section mb-3"},$t={class:"info-box"},St={class:"info-box-item market-size"},Et={class:"info-content"},Mt={class:"d-flex align-items-baseline gap-2"},Dt={key:0},Bt={class:"info-box-item store-clients"},zt={class:"info-content"},jt={class:"d-flex align-items-baseline gap-2"},Ht={key:0},It={class:"info-box-item market-clients"},Rt={class:"info-content"},Gt={class:"d-flex align-items-baseline gap-2"},Nt={key:0},Ft={class:"w-100"},Pt={class:"layout-form chart_layout"},Yt={class:"row"},Zt={class:"col-12 col-lg-6 mb-4"},Tt={class:"layout-form chart_layout"},Ot={class:"main-title fw-normal text-center mb-3 main-cl"},qt={class:"desc text-center mb-0"},Ut={class:"col-12 col-lg-6 mb-4"},Wt={class:"layout-form chart_layout"},Jt={class:"col-12 mb-4"},Kt={class:"layout-form chart_layout"},Qt={class:"chart-text flex-column"},Xt={class:"key-words"},te={class:"tooltip main-cl d-block"},ee={__name:"home",setup(j){T();const o=r(!0),{token:h,user:A,isLoggedIn:L}=M(B()),{response:f}=z();_t();const m=D(),n=r(null),i=r(null),w=V(()=>({headers:{Authorization:`Bearer ${h.value}`}})),d=r(!1),l=V(()=>{var a;return(a=n.value)!=null&&a.competitors?{labels:n.value.competitors.map(e=>({id:e.id,text:e.competitorName,image:e.logo})).reverse(),series:n.value.competitors.map(e=>e.totalMarketVisitors).reverse(),colors:{bar:"#E5254A",text:"#ffffff"}}:{labels:[],series:[],colors:{bar:"#E5254A",text:"#ffffff"}}}),_=async()=>{o.value=!0,await m.get("GetHomeStaticData",w.value).then(a=>{f(a)=="success"&&(n.value=a.data.data,console.log(n.value,"HomeData")),o.value=!1}).catch(a=>{console.error(a)})},S=async()=>{o.value=!0,await m.get("GetStoreCustomers",w.value).then(a=>{f(a)=="success"&&(i.value=a.data.data),o.value=!1}).catch(a=>{console.error(a)})};return ot(async()=>{await _(),await S(),d.value=!0}),(a,e)=>{var x,$,H,I,R,G,N,F,P;const k=X,g=yt,c=xt,C=mt;return u(),p("div",null,[t("main",null,[t("div",At,[t("div",Lt,[t("div",$t,[t("div",St,[e[1]||(e[1]=t("img",{src:bt,alt:"Dollar Icon",loading:"lazy",class:"dollar-icon"},null,-1)),t("div",Et,[e[0]||(e[0]=t("span",null,"حجم السوق",-1)),t("div",Mt,[!((x=s(n))!=null&&x.length)&&!s(o)?(u(),p("h2",Dt,y(($=s(n))==null?void 0:$.marketSize),1)):v("",!0),(H=s(n))!=null&&H.length||s(o)?(u(),E(k,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])])]),t("div",Bt,[e[3]||(e[3]=t("img",{src:Ct,alt:"Store Icon"},null,-1)),t("div",zt,[e[2]||(e[2]=t("span",null,"عملاء المتجر",-1)),t("div",jt,[!((I=s(i))!=null&&I.length)&&!s(o)?(u(),p("h2",Ht,y(s(i)),1)):v("",!0),(R=s(i))!=null&&R.length||s(o)?(u(),E(k,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])])]),t("div",It,[e[5]||(e[5]=t("img",{src:Vt,alt:"User Icon"},null,-1)),t("div",Rt,[e[4]||(e[4]=t("span",null,"متوسط عملاء السوق",-1)),t("div",Gt,[!((G=s(n))!=null&&G.length)&&!s(o)?(u(),p("h2",Nt,y((N=s(n))==null?void 0:N.marketClientAverage),1)):v("",!0),(F=s(n))!=null&&F.length||s(o)?(u(),E(k,{key:1,class:"mt-2",width:"5rem",height:".5rem"})):v("",!0)])])])]),t("div",Ft,[t("div",Pt,[e[6]||(e[6]=t("h3",{class:"main-title fw-normal text-center mb-3 main-cl"},"متوسط زيارات السوق",-1)),b(g)])])]),t("div",Yt,[t("div",Zt,[t("div",Tt,[t("h3",Ot,y(a.$t("Global.distribution")),1),t("h3",qt,y(a.$t("Global.distribution_channels")),1),b(c)])]),t("div",Ut,[t("div",Wt,[e[7]||(e[7]=t("h3",{class:"main-title fw-normal text-center mb-3 main-cl"},"المنافسون",-1)),e[8]||(e[8]=t("h3",{class:"desc text-center mb-0"},"معدل أستحواذ منافسيك على حركة الزيارات من إجمالي حركة زيارات السوق",-1)),b(C,{"data-ready":s(d),"products-data":s(l),loading:s(o)},null,8,["data-ready","products-data","loading"])])]),t("div",Jt,[t("div",Kt,[t("div",Qt,[e[9]||(e[9]=t("span",{class:"hint w-100 text-center pt-3 mb-4"},"الكلمات التي يبحث عنها عملاءك",-1)),t("div",Xt,[(u(!0),p(at,null,nt((P=s(n))==null?void 0:P.keyWords,(Y,Q)=>(u(),p("div",{class:"text position-relative",key:Q},[lt(y(Y.word)+" ",1),t("span",te,"معدل التحويل: "+y(Y.searchRate)+" %",1)]))),128))])])])])])])])])}}},he=st(ee,[["__scopeId","data-v-b733b5ce"]]);export{he as default};
